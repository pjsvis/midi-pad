var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e){return null==e?"":e}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function f(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let g;function v(e){g=e}function _(e){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(e)}const b=[],E=[],S=[],M=[],I=Promise.resolve();let w=!1;function T(e){S.push(e)}let N=!1;const x=new Set;function A(){if(!N){N=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];v(t),D(t.$$)}for(v(null),b.length=0;E.length;)E.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];x.has(t)||(x.add(t),t())}S.length=0}while(b.length);for(;M.length;)M.pop()();w=!1,N=!1,x.clear()}}function D(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const O=new Set;function C(e,t){e&&e.i&&(O.delete(e),e.i(t))}function P(e,t,n,i){if(e&&e.o){if(O.has(e))return;O.add(e),undefined.c.push((()=>{O.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}}function R(e){e&&e.c()}function k(e,n,o,s){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=e.$$;a&&a.m(n,o),s||T((()=>{const n=u.map(t).filter(r);l?l.push(...n):i(n),e.$$.on_mount=[]})),c.forEach(T)}function G(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(b.push(e),w||(w=!0,I.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $(t,r,o,s,a,u,c=[-1]){const d=g;v(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(h.ctx=o?o(t,r.props||{},((e,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),p&&H(t,e)),n})):[],h.update(),p=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);h.fragment&&h.fragment.l(e),e.forEach(l)}else h.fragment&&h.fragment.c();r.intro&&C(t.$$.fragment),k(t,r.target,r.anchor,r.customElement),A()}v(d)}class z{$destroy(){G(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y(e){var t={exports:{}};return e(t,t.exports),t.exports}var j=Y((function(e){!function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(e){return this._nrpnEventsEnabled=e,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var i=new n;function r(e){var t=this;this._userHandlers={channel:{},system:{}},this._midiInput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiInput.connection}},id:{enumerable:!0,get:function(){return t._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiInput.name}},state:{enumerable:!0,get:function(){return t._midiInput.state}},type:{enumerable:!0,get:function(){return t._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function o(e){var t=this;this._midiOutput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiOutput.connection}},id:{enumerable:!0,get:function(){return t._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiOutput.name}},state:{enumerable:!0,get:function(){return t._midiOutput.state}},type:{enumerable:!0,get:function(){return t._midiOutput.type}}})}n.prototype.enable=function(e,t){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:t}).then(function(t){var n,i=[],r=[];this.interface=t,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){i.push(e)};for(var o=t.inputs.values(),s=o.next();s&&!s.done;s=o.next())r.push(s.value.open());for(var a=t.outputs.values(),u=a.next();u&&!u.done;u=a.next())r.push(u.value.open());function l(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof e&&e.call(this),i.forEach(function(e){this._onInterfaceStateChange(e)}.bind(this))}n=setTimeout(l.bind(this),200),Promise&&Promise.all(r).catch((function(e){})).then(l.bind(this))}.bind(this),function(t){"function"==typeof e&&e.call(this,t)}.bind(this)):"function"==typeof e&&e(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach((function(e){e.removeListener()}))),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[e].push(t),this},n.prototype.hasListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[e].length;n++)if(this._userHandlers[e][n]===t)return!0;return!1},n.prototype.removeListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(e))if(t)for(var n=0;n<this._userHandlers[e].length;n++)this._userHandlers[e][n]===t&&this._userHandlers[e].splice(n,1);else this._userHandlers[e]=[];else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(e){var t;if("all"===e||void 0===e)t=["all"];else{if("none"===e)return[];t=Array.isArray(e)?e:[e]}return-1<t.indexOf("all")&&(t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),t.map((function(e){return parseInt(e)})).filter((function(e){return 1<=e&&e<=16}))},n.prototype.getInputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].id===e)return this.inputs[t];return!1},n.prototype.getOutputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.outputs.length;t++)if(this.outputs[t].id===e)return this.outputs[t];return!1},n.prototype.getInputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.inputs.length;t++)if(~this.inputs[t].name.indexOf(e))return this.inputs[t];return!1},n.prototype.getOctave=function(e){if(null!=e&&0<=e&&e<=127)return Math.floor(Math.floor(e)/12-1)+Math.floor(i.octaveOffset)},n.prototype.getOutputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.outputs.length;t++)if(~this.outputs[t].name.indexOf(e))return this.outputs[t];return!1},n.prototype.guessNoteNumber=function(e){var t=!1;if(e&&e.toFixed&&0<=e&&e<=127?t=Math.round(e):0<=parseInt(e)&&parseInt(e)<=127?t=parseInt(e):("string"==typeof e||e instanceof String)&&(t=this.noteNameToNumber(e)),!1===t)throw new Error("Invalid input value ("+e+").");return t},n.prototype.noteNameToNumber=function(e){"string"!=typeof e&&(e="");var t=e.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!t)throw new RangeError("Invalid note name.");var n=i._semitones[t[1].toUpperCase()],r=12*(parseInt(t[3])+1-Math.floor(i.octaveOffset))+n;if(-1<t[2].toLowerCase().indexOf("b")?r-=t[2].length:-1<t[2].toLowerCase().indexOf("#")&&(r+=t[2].length),r<0||127<r)throw new RangeError("Invalid note name or note outside valid range.");return r},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var e=0;e<this._inputs.length;e++){for(var t=!0,n=this.interface.inputs.values(),i=n.next();i&&!i.done;i=n.next())if(this._inputs[e]._midiInput===i.value){t=!1;break}t&&this._inputs.splice(e,1)}this.interface&&this.interface.inputs.forEach(function(e){for(var t=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===e&&(t=!1);t&&this._inputs.push(new r(e))}.bind(this))},n.prototype._updateOutputs=function(){for(var e=0;e<this._outputs.length;e++){for(var t=!0,n=this.interface.outputs.values(),i=n.next();i&&!i.done;i=n.next())if(this._outputs[e]._midiOutput===i.value){t=!1;break}t&&this._outputs.splice(e,1)}this.interface&&this.interface.outputs.forEach(function(e){for(var t=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===e&&(t=!1);t&&this._outputs.push(new o(e))}.bind(this))},n.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var t={timestamp:e.timeStamp,type:e.port.state};this.interface&&"connected"===e.port.state?"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)):t.port={connection:"closed",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach((function(e){e(t)}))},n.prototype._resetInterfaceUserHandlers=function(){for(var e=0;e<this._midiInterfaceEvents.length;e++)this._userHandlers[this._midiInterfaceEvents[e]]=[]},r.prototype.on=r.prototype.addListener=function(e,t,n){var r=this;if(void 0===t&&(t="all"),Array.isArray(t)||(t=[t]),t.forEach((function(e){if("all"!==e&&!(1<=e&&e<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==i.MIDI_SYSTEM_MESSAGES[e])this._userHandlers.system[e]||(this._userHandlers.system[e]=[]),this._userHandlers.system[e].push(n);else{if(void 0===i.MIDI_CHANNEL_MESSAGES[e])throw new TypeError("The specified event type is not supported.");if(-1<t.indexOf("all")){t=[];for(var o=1;o<=16;o++)t.push(o)}this._userHandlers.channel[e]||(this._userHandlers.channel[e]=[]),t.forEach((function(t){r._userHandlers.channel[e][t]||(r._userHandlers.channel[e][t]=[]),r._userHandlers.channel[e][t].push(n)}))}return this},r.prototype.hasListener=function(e,t,n){var r=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==i.MIDI_SYSTEM_MESSAGES[e]){for(var o=0;o<this._userHandlers.system[e].length;o++)if(this._userHandlers.system[e][o]===n)return!0}else if(void 0!==i.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var s=1;s<=16;s++)t.push(s)}return!!this._userHandlers.channel[e]&&t.every((function(t){var i=r._userHandlers.channel[e][t];return i&&-1<i.indexOf(n)}))}return!1},r.prototype.removeListener=function(e,t,n){var r=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==i.MIDI_SYSTEM_MESSAGES[e])if(void 0===n)this._userHandlers.system[e]=[];else for(var o=0;o<this._userHandlers.system[e].length;o++)this._userHandlers.system[e][o]===n&&this._userHandlers.system[e].splice(o,1);else if(void 0!==i.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var s=1;s<=16;s++)t.push(s)}if(!this._userHandlers.channel[e])return this;t.forEach((function(t){var i=r._userHandlers.channel[e][t];if(i)if(void 0===n)r._userHandlers.channel[e][t]=[];else for(var o=0;o<i.length;o++)i[o]===n&&i.splice(o,1)}))}else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},r.prototype._initializeUserHandlers=function(){for(var e in i.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(i.MIDI_CHANNEL_MESSAGES,e)&&(this._userHandlers.channel[e]={});for(var t in i.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(i.MIDI_SYSTEM_MESSAGES,t)&&(this._userHandlers.system[t]=[])},r.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var t={target:this,data:e.data,timestamp:e.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(e){e(t)}))}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},r.prototype._parseNrpnEvent=function(e){var t,n,r=e.data[0]>>4,o=15&e.data[0],s=1+o;if(1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0),i.nrpnEventsEnabled&&r===i.MIDI_CHANNEL_MESSAGES.controlchange&&(t>=i.MIDI_NRPN_MESSAGES.increment&&t<=i.MIDI_NRPN_MESSAGES.parammsb||t===i.MIDI_NRPN_MESSAGES.entrymsb||t===i.MIDI_NRPN_MESSAGES.entrylsb)){var a={target:this,type:"controlchange",data:e.data,timestamp:e.timeStamp,channel:s,controller:{number:t,name:this.getCcNameByNumber(t)},value:n};if(a.controller.number===i.MIDI_NRPN_MESSAGES.parammsb&&a.value!=i.MIDI_NRPN_MESSAGES.nullactiveparameter)i._nrpnBuffer[o]=[],i._nrpnBuffer[o][0]=a;else if(1===i._nrpnBuffer[o].length&&a.controller.number===i.MIDI_NRPN_MESSAGES.paramlsb)i._nrpnBuffer[o].push(a);else if(2!==i._nrpnBuffer[o].length||a.controller.number!==i.MIDI_NRPN_MESSAGES.increment&&a.controller.number!==i.MIDI_NRPN_MESSAGES.decrement&&a.controller.number!==i.MIDI_NRPN_MESSAGES.entrymsb)if(3===i._nrpnBuffer[o].length&&i._nrpnBuffer[o][2].number===i.MIDI_NRPN_MESSAGES.entrymsb&&a.controller.number===i.MIDI_NRPN_MESSAGES.entrylsb)i._nrpnBuffer[o].push(a);else if(3<=i._nrpnBuffer[o].length&&i._nrpnBuffer[o].length<=4&&a.controller.number===i.MIDI_NRPN_MESSAGES.parammsb&&a.value===i.MIDI_NRPN_MESSAGES.nullactiveparameter)i._nrpnBuffer[o].push(a);else if(4<=i._nrpnBuffer[o].length&&i._nrpnBuffer[o].length<=5&&a.controller.number===i.MIDI_NRPN_MESSAGES.paramlsb&&a.value===i.MIDI_NRPN_MESSAGES.nullactiveparameter){i._nrpnBuffer[o].push(a);var u=[];i._nrpnBuffer[o].forEach((function(e){u.push(e.data)}));var l=i._nrpnBuffer[o][0].value<<7|i._nrpnBuffer[o][1].value,c=i._nrpnBuffer[o][2].value;6===i._nrpnBuffer[o].length&&(c=i._nrpnBuffer[o][2].value<<7|i._nrpnBuffer[o][3].value);var d="";switch(i._nrpnBuffer[o][2].controller.number){case i.MIDI_NRPN_MESSAGES.entrymsb:d=i._nrpnTypes[0];break;case i.MIDI_NRPN_MESSAGES.increment:d=i._nrpnTypes[1];break;case i.MIDI_NRPN_MESSAGES.decrement:d=i._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var h={timestamp:a.timestamp,channel:a.channel,type:"nrpn",data:u,controller:{number:l,type:d,name:"Non-Registered Parameter "+l},value:c};i._nrpnBuffer[o]=[],this._userHandlers.channel[h.type]&&this._userHandlers.channel[h.type][h.channel]&&this._userHandlers.channel[h.type][h.channel].forEach((function(e){e(h)}))}else i._nrpnBuffer[o]=[];else i._nrpnBuffer[o].push(a)}},r.prototype._parseChannelEvent=function(e){var t,n,r=e.data[0]>>4,o=1+(15&e.data[0]);1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0);var s={target:this,data:e.data,timestamp:e.timeStamp,channel:o};r===i.MIDI_CHANNEL_MESSAGES.noteoff||r===i.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(s.type="noteoff",s.note={number:t,name:i._notes[t%12],octave:i.getOctave(t)},s.velocity=n/127,s.rawVelocity=n):r===i.MIDI_CHANNEL_MESSAGES.noteon?(s.type="noteon",s.note={number:t,name:i._notes[t%12],octave:i.getOctave(t)},s.velocity=n/127,s.rawVelocity=n):r===i.MIDI_CHANNEL_MESSAGES.keyaftertouch?(s.type="keyaftertouch",s.note={number:t,name:i._notes[t%12],octave:i.getOctave(t)},s.value=n/127):r===i.MIDI_CHANNEL_MESSAGES.controlchange&&0<=t&&t<=119?(s.type="controlchange",s.controller={number:t,name:this.getCcNameByNumber(t)},s.value=n):r===i.MIDI_CHANNEL_MESSAGES.channelmode&&120<=t&&t<=127?(s.type="channelmode",s.controller={number:t,name:this.getChannelModeByNumber(t)},s.value=n):r===i.MIDI_CHANNEL_MESSAGES.programchange?(s.type="programchange",s.value=t):r===i.MIDI_CHANNEL_MESSAGES.channelaftertouch?(s.type="channelaftertouch",s.value=t/127):r===i.MIDI_CHANNEL_MESSAGES.pitchbend?(s.type="pitchbend",s.value=((n<<7)+t-8192)/8192):s.type="unknownchannelmessage",this._userHandlers.channel[s.type]&&this._userHandlers.channel[s.type][o]&&this._userHandlers.channel[s.type][o].forEach((function(e){e(s)}))},r.prototype.getCcNameByNumber=function(e){if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var t in i.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(i.MIDI_CONTROL_CHANGE_MESSAGES,t)&&e===i.MIDI_CONTROL_CHANGE_MESSAGES[t])return t},r.prototype.getChannelModeByNumber=function(e){if(!(120<=(e=Math.floor(e))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var t in i.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(i.MIDI_CHANNEL_MODE_MESSAGES,t)&&e===i.MIDI_CHANNEL_MODE_MESSAGES[t])return t},r.prototype._parseSystemEvent=function(e){var t=e.data[0],n={target:this,data:e.data,timestamp:e.timeStamp};t===i.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":t===i.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":t===i.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":t===i.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=e.data[1]):t===i.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":t===i.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":t===i.MIDI_SYSTEM_MESSAGES.start?n.type="start":t===i.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":t===i.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":t===i.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":t===i.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(e){e(n)}))},o.prototype.send=function(e,t,n){if(!(128<=e&&e<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===t&&(t=[]),Array.isArray(t)||(t=[t]);var i=[];return t.forEach((function(e){var t=Math.floor(e);if(!(0<=t&&t<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");i.push(t)})),this._midiOutput.send([e].concat(i),parseFloat(n)||0),this},o.prototype.sendSysex=function(e,t,n){if(!i.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},e=[].concat(e),t.forEach((function(e){if(e<0||127<e)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),t=e.concat(t,i.MIDI_SYSTEM_MESSAGES.sysexend),this.send(i.MIDI_SYSTEM_MESSAGES.sysex,t,this._parseTimeParameter(n.time)),this},o.prototype.sendTimecodeQuarterFrame=function(e,t){return t=t||{},this.send(i.MIDI_SYSTEM_MESSAGES.timecode,e,this._parseTimeParameter(t.time)),this},o.prototype.sendSongPosition=function(e,t){t=t||{};var n=(e=Math.floor(e)||0)>>7&127,r=127&e;return this.send(i.MIDI_SYSTEM_MESSAGES.songposition,[n,r],this._parseTimeParameter(t.time)),this},o.prototype.sendSongSelect=function(e,t){if(t=t||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(i.MIDI_SYSTEM_MESSAGES.songselect,[e],this._parseTimeParameter(t.time)),this},o.prototype.sendTuningRequest=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendClock=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStart=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendContinue=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStop=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendActiveSensing=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(e.time)),this},o.prototype.sendReset=function(e){return e=e||{},this.send(i.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(e.time)),this},o.prototype.stopNote=function(e,t,n){if("all"===e)return this.sendChannelMode("allnotesoff",0,t,n);var r=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(r=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(r=127*n.velocity),this._convertNoteToArray(e).forEach(function(e){i.toMIDIChannels(t).forEach(function(t){this.send((i.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(r)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},o.prototype.playNote=function(e,t,n){var r,o=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(o=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(o=127*n.velocity),r=this._parseTimeParameter(n.time),this._convertNoteToArray(e).forEach(function(e){i.toMIDIChannels(t).forEach(function(t){this.send((i.MIDI_CHANNEL_MESSAGES.noteon<<4)+(t-1),[e,Math.round(o)],r)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var s=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(s=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(s=127*n.release),this._convertNoteToArray(e).forEach(function(e){i.toMIDIChannels(t).forEach(function(t){this.send((i.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(s)],(r||i.time)+n.duration)}.bind(this))}.bind(this))}return this},o.prototype.sendKeyAftertouch=function(e,t,n,r){var o=this;if(r=r||{},t<1||16<t)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var s=Math.round(127*n);return this._convertNoteToArray(e).forEach((function(e){i.toMIDIChannels(t).forEach((function(t){o.send((i.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(t-1),[e,s],o._parseTimeParameter(r.time))}))})),this},o.prototype.sendControlChange=function(e,t,n,r){if(r=r||{},"string"==typeof e){if(void 0===(e=i.MIDI_CONTROL_CHANGE_MESSAGES[e]))throw new TypeError("Invalid controller name.")}else if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("Controller value must be between 0 and 127.");return i.toMIDIChannels(n).forEach(function(n){this.send((i.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[e,t],this._parseTimeParameter(r.time))}.bind(this)),this},o.prototype._selectRegisteredParameter=function(e,t,n){var r=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return i.toMIDIChannels(t).forEach((function(){r.sendControlChange(101,e[0],t,{time:n}),r.sendControlChange(100,e[1],t,{time:n})})),this},o.prototype._selectNonRegisteredParameter=function(e,t,n){var r=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return i.toMIDIChannels(t).forEach((function(){r.sendControlChange(99,e[0],t,{time:n}),r.sendControlChange(98,e[1],t,{time:n})})),this},o.prototype._setCurrentRegisteredParameter=function(e,t,n){var r=this;if((e=[].concat(e))[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return i.toMIDIChannels(t).forEach((function(){r.sendControlChange(6,e[0],t,{time:n})})),e[1]=Math.floor(e[1]),0<=e[1]&&e[1]<=127&&i.toMIDIChannels(t).forEach((function(){r.sendControlChange(38,e[1],t,{time:n})})),this},o.prototype._deselectRegisteredParameter=function(e,t){var n=this;return i.toMIDIChannels(e).forEach((function(){n.sendControlChange(101,127,e,{time:t}),n.sendControlChange(100,127,e,{time:t})})),this},o.prototype.setRegisteredParameter=function(e,t,n,r){var o=this;if(r=r||{},!Array.isArray(e)){if(!i.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=i.MIDI_REGISTERED_PARAMETER[e]}return i.toMIDIChannels(n).forEach((function(){o._selectRegisteredParameter(e,n,r.time),o._setCurrentRegisteredParameter(t,n,r.time),o._deselectRegisteredParameter(n,r.time)})),this},o.prototype.setNonRegisteredParameter=function(e,t,n,r){var o=this;if(r=r||{},!(0<=e[0]&&e[0]<=127&&0<=e[1]&&e[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return t=[].concat(t),i.toMIDIChannels(n).forEach((function(){o._selectNonRegisteredParameter(e,n,r.time),o._setCurrentRegisteredParameter(t,n,r.time),o._deselectRegisteredParameter(n,r.time)})),this},o.prototype.incrementRegisteredParameter=function(e,t,n){var r=this;if(n=n||{},!Array.isArray(e)){if(!i.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=i.MIDI_REGISTERED_PARAMETER[e]}return i.toMIDIChannels(t).forEach((function(){r._selectRegisteredParameter(e,t,n.time),r.sendControlChange(96,0,t,{time:n.time}),r._deselectRegisteredParameter(t,n.time)})),this},o.prototype.decrementRegisteredParameter=function(e,t,n){if(n=n||{},!Array.isArray(e)){if(!i.MIDI_REGISTERED_PARAMETER[e])throw new TypeError("The specified parameter is not available.");e=i.MIDI_REGISTERED_PARAMETER[e]}return i.toMIDIChannels(t).forEach(function(){this._selectRegisteredParameter(e,t,n.time),this.sendControlChange(97,0,t,{time:n.time}),this._deselectRegisteredParameter(t,n.time)}.bind(this)),this},o.prototype.setPitchBendRange=function(e,t,n,r){var o=this;if(r=r||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return i.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("pitchbendrange",[e,t],n,{time:r.time})})),this},o.prototype.setModulationRange=function(e,t,n,r){var o=this;if(r=r||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return i.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("modulationrange",[e,t],n,{time:r.time})})),this},o.prototype.setMasterTuning=function(e,t,n){var r=this;if(n=n||{},(e=parseFloat(e)||0)<=-65||64<=e)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var o=Math.floor(e)+64,s=e-Math.floor(e),a=(s=Math.round((s+1)/2*16383))>>7&127,u=127&s;return i.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("channelcoarsetuning",o,t,{time:n.time}),r.setRegisteredParameter("channelfinetuning",[a,u],t,{time:n.time})})),this},o.prototype.setTuningProgram=function(e,t,n){var r=this;if(n=n||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The program value must be between 0 and 127");return i.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("tuningprogram",e,t,{time:n.time})})),this},o.prototype.setTuningBank=function(e,t,n){var r=this;if(n=n||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The bank value must be between 0 and 127");return i.toMIDIChannels(t).forEach((function(){r.setRegisteredParameter("tuningbank",e,t,{time:n.time})})),this},o.prototype.sendChannelMode=function(e,t,n,r){if(r=r||{},"string"==typeof e){if(!(e=i.MIDI_CHANNEL_MODE_MESSAGES[e]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(e=Math.floor(e))&&e<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((t=Math.floor(t)||0)<0||127<t)throw new RangeError("Value must be an integer between 0 and 127.");return i.toMIDIChannels(n).forEach(function(n){this.send((i.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[e,t],this._parseTimeParameter(r.time))}.bind(this)),this},o.prototype.sendProgramChange=function(e,t,n){var r=this;if(n=n||{},e=Math.floor(e),isNaN(e)||e<0||127<e)throw new RangeError("Program numbers must be between 0 and 127.");return i.toMIDIChannels(t).forEach((function(t){r.send((i.MIDI_CHANNEL_MESSAGES.programchange<<4)+(t-1),[e],r._parseTimeParameter(n.time))})),this},o.prototype.sendChannelAftertouch=function(e,t,n){var r=this;n=n||{},e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=.5);var o=Math.round(127*e);return i.toMIDIChannels(t).forEach((function(e){r.send((i.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(e-1),[o],r._parseTimeParameter(n.time))})),this},o.prototype.sendPitchBend=function(e,t,n){var r=this;if(n=n||{},isNaN(e)||e<-1||1<e)throw new RangeError("Pitch bend value must be between -1 and 1.");var o=Math.round((e+1)/2*16383),s=o>>7&127,a=127&o;return i.toMIDIChannels(t).forEach((function(e){r.send((i.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(e-1),[a,s],r._parseTimeParameter(n.time))})),this},o.prototype._parseTimeParameter=function(e){var t,n=parseFloat(e);return"string"==typeof e&&"+"===e.substring(0,1)?n&&0<n&&(t=i.time+n):n>i.time&&(t=n),t},o.prototype._convertNoteToArray=function(e){var t=[];return Array.isArray(e)||(e=[e]),e.forEach((function(e){t.push(i.guessNoteNumber(e))})),t},e.exports?e.exports=i:t.WebMidi||(t.WebMidi=i)}(L)}));const F=async()=>{if(!j.enabled)return j.enable()};function W(t){let n;return{c(){n=d("div"),n.textContent="Hello JoystickControls"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class X extends z{constructor(e){super(),$(this,e,null,W,o,{})}}function U(t){let n;return{c(){n=d("div"),n.innerHTML='<button id="b01">Enable All</button> \n    <button id="b02">Disable All</button> \n    <button>Track 1</button> \n    <button>Track 2</button> \n    <button>Track 3</button> \n    <button>Track 4</button> \n    <button>Track 5</button> \n    <button>Track 6</button> \n    <button>Track 7</button> \n    <button>Track 8</button>'},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function q(e){var t=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};return _((()=>t(void 0,void 0,void 0,(function*(){F()})))),[]}class J extends z{constructor(e){super(),$(this,e,q,U,o,{})}}function V(t){let n;return{c(){n=d("div"),n.innerHTML='<input id="hello" class="ba b--black-10 pa2 bg-red svelte-9kgwz6" type="range" min="0" max="127" value="7" step="1"/>'},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class Q extends z{constructor(e){super(),$(this,e,null,V,o,{})}}function K(t){let n;return{c(){n=d("div"),n.innerHTML='<input type="range" min="0" max="11" value="7" step="1" class="svelte-zsnoje"/>',m(n,"class","slider-wrapper svelte-zsnoje")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class Z extends z{constructor(e){super(),$(this,e,null,K,o,{})}}function ee(t){let n,i;return{c(){n=h("Hello knob\r\n"),i=d("div"),i.innerHTML='<input class="p1" type="range" min="0" max="127" data-width="100" data-height="100" data-angleoffset="220" data-anglerange="280"/>'},m(e,t){u(e,n,t),u(e,i,t)},p:e,i:e,o:e,d(e){e&&l(n),e&&l(i)}}}function te(e){return _((async()=>{console.log("mounted")})),[]}class ne extends z{constructor(e){super(),$(this,e,te,ee,o,{})}}var ie=B(Y((function(e,t){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t);var i,r=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},o=function(e){return e*(Math.PI/180)},s=function(e){return e*(180/Math.PI)},a=new Map,u=function(e){a.has(e)&&clearTimeout(a.get(e)),a.set(e,setTimeout(e,100))},l=function(e,t,n){for(var i,r=t.split(/[ ,]+/g),o=0;o<r.length;o+=1)i=r[o],e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&e.attachEvent(i,n)},c=function(e,t,n){for(var i,r=t.split(/[ ,]+/g),o=0;o<r.length;o+=1)i=r[o],e.removeEventListener?e.removeEventListener(i,n):e.detachEvent&&e.detachEvent(i,n)},d=function(e){return e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e},h=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},p=function(e,t){t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},f=function(e,t,n){var i=m(e);for(var r in i)if(i.hasOwnProperty(r))if("string"==typeof t)i[r]=t+" "+n;else{for(var o="",s=0,a=t.length;s<a;s+=1)o+=t[s]+" "+n+", ";i[r]=o.slice(0,-2)}return i},m=function(e){var t={};return t[e]="",["webkit","Moz","o"].forEach((function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""})),t},y=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},g=function(e,t){if(e.length)for(var n=0,i=e.length;n<i;n+=1)t(e[n]);else t(e)},v=!!("ontouchstart"in window),_=!!window.PointerEvent,b=!!window.MSPointerEvent,E={start:"mousedown",move:"mousemove",end:"mouseup"},S={};function M(){}_?i={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:b?i={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:v?(i={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},S=E):i=E,M.prototype.on=function(e,t){var n,i=e.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var r=0;r<i.length;r+=1)n=i[r],this._handlers_[n]=this._handlers_[n]||[],this._handlers_[n].push(t);return this},M.prototype.off=function(e,t){return this._handlers_=this._handlers_||{},void 0===e?this._handlers_={}:void 0===t?this._handlers_[e]=null:this._handlers_[e]&&this._handlers_[e].indexOf(t)>=0&&this._handlers_[e].splice(this._handlers_[e].indexOf(t),1),this},M.prototype.trigger=function(e,t){var n,i=this,r=e.split(/[ ,]+/g);i._handlers_=i._handlers_||{};for(var o=0;o<r.length;o+=1)n=r[o],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach((function(e){e.call(i,{type:n,target:i},t)}))},M.prototype.config=function(e){this.options=this.defaults||{},e&&(this.options=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n}(this.options,e))},M.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},l(e,i[t],n._domHandlers_[t]),S[t]&&l(e,S[t],n._domHandlers_[t]),n},M.prototype.unbindEvt=function(e,t){return this._domHandlers_=this._domHandlers_||{},c(e,i[t],this._domHandlers_[t]),S[t]&&c(e,S[t],this._domHandlers_[t]),delete this._domHandlers_[t],this};var I=M;function w(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=w.id,w.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}w.prototype=new I,w.constructor=w,w.id=0,w.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},w.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=function(e,t){var n=m("borderRadius");for(var i in n)n.hasOwnProperty(i)&&(n[i]=t);return n}(0,"50%"),n=f("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},y(i.el,n),"circle"===this.options.shape&&y(i.back,t),y(i.front,t),this.applyStyles(i),this},w.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},w.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},w.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},w.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},w.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout((function(){t.ui.el.style.opacity=1}),0),t.showTimeout=setTimeout((function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)}),t.options.fadeTime)),t},w.prototype.hide=function(e){var t=this;return t.options.dataOnly||(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout((function(){var n="dynamic"===t.options.mode?"none":"block";t.ui.el.style.display=n,"function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)}),t.options.fadeTime),t.options.restJoystick&&t.setPosition(e,{x:0,y:0})),t},w.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var i=n.options.fadeTime+"ms",r={};r.front=f("transition",["top","left"],i);var o={front:{}};o.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(r),n.applyStyles(o),n.restTimeout=setTimeout((function(){"function"==typeof e&&e.call(n),n.restCallback()}),n.options.fadeTime)},w.prototype.restCallback=function(){var e={};e.front=f("transition","none",""),this.applyStyles(e),this.trigger("rested",this.instance)},w.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},w.prototype.computeDirection=function(e){var t,n,i,r=e.angle.radian,o=Math.PI/4,s=Math.PI/2;if(r>o&&r<3*o&&!e.lockX?t="up":r>-o&&r<=o&&!e.lockY?t="left":r>3*-o&&r<=-o&&!e.lockX?t="down":e.lockY||(t="right"),e.lockY||(n=r>-s&&r<s?"left":"right"),e.lockX||(i=r>0?"up":"down"),e.force>this.options.threshold){var a,u={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(u[a]=this.direction[a]);var l={};for(a in this.direction={x:n,y:i,angle:t},e.direction=this.direction,u)u[a]===this.direction[a]&&(l[a]=!0);if(l.x&&l.y&&l.angle)return e;l.x&&l.y||this.trigger("plain",e),l.x||this.trigger("plain:"+n,e),l.y||this.trigger("plain:"+i,e),l.angle||this.trigger("dir dir:"+t,e)}else this.resetDirection();return e};var T=w;function N(e,t){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=e,this.id=N.id,N.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},this.config(t),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}N.prototype=new I,N.constructor=N,N.id=0,N.prototype.prepareNipples=function(){var e=this.nipples;e.on=this.on.bind(this),e.off=this.off.bind(this),e.options=this.options,e.destroy=this.destroy.bind(this),e.ids=this.ids,e.id=this.id,e.processOnMove=this.processOnMove.bind(this),e.processOnEnd=this.processOnEnd.bind(this),e.get=function(t){if(void 0===t)return e[0];for(var n=0,i=e.length;n<i;n+=1)if(e[n].identifier===t)return e[n];return!1}},N.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},N.prototype.begin=function(){var e=this.options;if("static"===e.mode){var t=this.createNipple(e.position,this.manager.getIdentifier());t.add(),this.idles.push(t)}},N.prototype.createNipple=function(e,t){var n=this.manager.scroll,i={},r=this.options;if(e.x&&e.y)i={x:e.x-(n.x+this.box.left),y:e.y-(n.y+this.box.top)};else if(e.top||e.right||e.bottom||e.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=e.top,o.style.right=e.right,o.style.bottom=e.bottom,o.style.left=e.left,o.style.position="absolute",r.zone.appendChild(o);var s=o.getBoundingClientRect();r.zone.removeChild(o),i=e,e={x:s.left+n.x,y:s.top+n.y}}var a=new T(this,{color:r.color,size:r.size,threshold:r.threshold,fadeTime:r.fadeTime,dataOnly:r.dataOnly,restJoystick:r.restJoystick,restOpacity:r.restOpacity,mode:r.mode,identifier:t,position:e,zone:r.zone,frontPosition:{x:0,y:0},shape:r.shape});return r.dataOnly||(p(a.ui.el,i),p(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},N.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},N.prototype.bindNipple=function(e){var t,n=this,i=function(e,i){t=e.type+" "+i.id+":"+e.type,n.trigger(t,i)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},N.prototype.pressureFn=function(e,t,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var n=e.force||e.pressure||e.webkitForce||0;n!==r&&(t.trigger("pressure",n),i.trigger("pressure "+t.identifier+":pressure",n),r=n)}.bind(i),100)},N.prototype.onstart=function(e){var t=this,n=t.options,i=e;return e=d(e),t.updateBox(),g(e,(function(r){t.actives.length<n.maxNumberOfNipples?t.processOnStart(r):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach((function(n){if(Object.values(i.touches).findIndex((function(e){return e.identifier===n}))<0){var r=[e[0]];r.identifier=n,t.processOnEnd(r)}})),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(r))})),t.manager.bindDocument(),!1},N.prototype.processOnStart=function(e){var t,n=this,i=n.options,o=n.manager.getIdentifier(e),s=e.force||e.pressure||e.webkitForce||0,a={x:e.pageX,y:e.pageY},u=n.getOrCreate(o,a);u.identifier!==o&&n.manager.removeIdentifier(u.identifier),u.identifier=o;var l=function(t){t.trigger("start",t),n.trigger("start "+t.id+":start",t),t.show(),s>0&&n.pressureFn(e,t,t.identifier),n.processOnMove(e)};if((t=n.idles.indexOf(u))>=0&&n.idles.splice(t,1),n.actives.push(u),n.ids.push(u.identifier),"semi"!==i.mode)l(u);else{if(!(r(a,u.position)<=i.catchDistance))return u.destroy(),void n.processOnStart(e);l(u)}return u},N.prototype.getOrCreate=function(e,t){var n,i=this.options;return/(semi|static)/.test(i.mode)?(n=this.idles[0])?(this.idles.splice(0,1),n):"semi"===i.mode?this.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):n=this.createNipple(t,e)},N.prototype.processOnMove=function(e){var t=this.options,n=this.manager.getIdentifier(e),i=this.nipples.get(n),a=this.manager.scroll;if(function(e){return isNaN(e.buttons)?0!==e.pressure:0!==e.buttons}(e)){if(!i)return console.error("Found zombie joystick with ID "+n),void this.manager.removeIdentifier(n);if(t.dynamicPage){var u=i.el.getBoundingClientRect();i.position={x:a.x+u.left,y:a.y+u.top}}i.identifier=n;var l=i.options.size/2,c={x:e.pageX,y:e.pageY};t.lockX&&(c.y=i.position.y),t.lockY&&(c.x=i.position.x);var d,h,f,m,y,g,v,_,b,E,S=r(c,i.position),M=(d=c,f=(h=i.position).x-d.x,m=h.y-d.y,s(Math.atan2(m,f))),I=o(M),w=S/l,T={distance:S,position:c};if("circle"===i.options.shape?(y=Math.min(S,l),v=i.position,_=y,E={x:0,y:0},b=o(b=M),E.x=v.x-_*Math.cos(b),E.y=v.y-_*Math.sin(b),g=E):(g=function(e,t,n){return{x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}}(c,i.position,l),y=r(g,i.position)),t.follow){if(S>l){var N=c.x-g.x,x=c.y-g.y;i.position.x+=N,i.position.y+=x,i.el.style.top=i.position.y-(this.box.top+a.y)+"px",i.el.style.left=i.position.x-(this.box.left+a.x)+"px",S=r(c,i.position)}}else c=g,S=y;var A=c.x-i.position.x,D=c.y-i.position.y;i.frontPosition={x:A,y:D},t.dataOnly||p(i.ui.front,i.frontPosition);var O={identifier:i.identifier,position:c,force:w,pressure:e.force||e.pressure||e.webkitForce||0,distance:S,angle:{radian:I,degree:M},vector:{x:A/l,y:-D/l},raw:T,instance:i,lockX:t.lockX,lockY:t.lockY};(O=i.computeDirection(O)).angle={radian:o(180-M),degree:180-M},i.trigger("move",O),this.trigger("move "+i.id+":move",O)}else this.processOnEnd(e)},N.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.removeIdentifier(r.identifier);r&&(n.dataOnly||r.hide((function(){"dynamic"===n.mode&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())})),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))},N.prototype.onDestroyed=function(e,t){this.nipples.indexOf(t)>=0&&this.nipples.splice(this.nipples.indexOf(t),1),this.actives.indexOf(t)>=0&&this.actives.splice(this.actives.indexOf(t),1),this.idles.indexOf(t)>=0&&this.idles.splice(this.idles.indexOf(t),1),this.ids.indexOf(t.identifier)>=0&&this.ids.splice(this.ids.indexOf(t.identifier),1),this.manager.removeIdentifier(t.identifier),this.manager.unbindDocument()},N.prototype.destroy=function(){for(var e in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach((function(e){e.destroy()})),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(e)&&clearInterval(this.pressureIntervals[e]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var x=N;function A(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=h(),t.config(e),t.prepareCollections();var n=function(){var e;t.collections.forEach((function(n){n.forEach((function(n){e=n.el.getBoundingClientRect(),n.position={x:t.scroll.x+e.left,y:t.scroll.y+e.top}}))}))};l(window,"resize",(function(){u(n)}));var i=function(){t.scroll=h()};return l(window,"scroll",(function(){u(i)})),t.collections}A.prototype=new I,A.constructor=A,A.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every((function(e){return!(n=e.get(t))})),n}},A.prototype.create=function(e){return this.createCollection(e)},A.prototype.createCollection=function(e){var t=new x(this,e);return this.bindCollection(t),this.collections.push(t),t},A.prototype.bindCollection=function(e){var t,n=this,i=function(e,i){t=e.type+" "+i.id+":"+e.type,n.trigger(t,i)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},A.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},A.prototype.unbindDocument=function(e){Object.keys(this.ids).length&&!0!==e||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},A.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},A.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},A.prototype.onmove=function(e){return this.onAny("move",e),!1},A.prototype.onend=function(e){return this.onAny("end",e),!1},A.prototype.oncancel=function(e){return this.onAny("end",e),!1},A.prototype.onAny=function(e,t){var n,i=this,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);return t=d(t),g(t,(function(e){n=i.getIdentifier(e),g(i.collections,function(e,t,n){n.ids.indexOf(t)>=0&&(n[r](e),e._found_=!0)}.bind(null,e,n)),e._found_||i.removeIdentifier(n)})),!1},A.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach((function(e){e.destroy()})),this.off()},A.prototype.onDestroyed=function(e,t){if(this.collections.indexOf(t)<0)return!1;this.collections.splice(this.collections.indexOf(t),1)};var D=new A;t.default={create:function(e){return D.create(e)},factory:D}}]).default})));function re(e,t,n){const i=e.slice();return i[14]=t[n].id,i[15]=t[n].name,i[16]=t[n].state,i}function oe(e,t,n){const i=e.slice();return i[14]=t[n].id,i[15]=t[n].name,i[16]=t[n].state,i}function se(e){let t,n,i,r,o,c,p=e[14]+"",f=e[15]+"",g=e[16]+"";return{c(){t=d("div"),n=h(p),i=h(" :: "),r=h(f),o=h(" :: "),c=h(g),m(t,"class",s(pe)+" svelte-4zo826")},m(e,s){u(e,t,s),a(t,n),a(t,i),a(t,r),a(t,o),a(t,c)},p(e,t){2&t&&p!==(p=e[14]+"")&&y(n,p),2&t&&f!==(f=e[15]+"")&&y(r,f),2&t&&g!==(g=e[16]+"")&&y(c,g)},d(e){e&&l(t)}}}function ae(e){let t,n,i,r,o,c,p=e[14]+"",f=e[15]+"",g=e[16]+"";return{c(){t=d("div"),n=h(p),i=h(" :: "),r=h(f),o=h(" :: "),c=h(g),m(t,"class",s(pe)+" svelte-4zo826")},m(e,s){u(e,t,s),a(t,n),a(t,i),a(t,r),a(t,o),a(t,c)},p(e,t){4&t&&p!==(p=e[14]+"")&&y(n,p),4&t&&f!==(f=e[15]+"")&&y(r,f),4&t&&g!==(g=e[16]+"")&&y(c,g)},d(e){e&&l(t)}}}function ue(e){let t,n,r,o,g,v,_,b,E,S,M,I,w,T,N,x,A,D,O,H,$,z,L,B,Y,j,F,W,U,q,V,K,ee,te,ie,ue,pe,fe,me,ye,ge,ve,_e,be,Ee,Se,Me,Ie,we,Te,Ne,xe,Ae,De,Oe=e[1],Ce=[];for(let t=0;t<Oe.length;t+=1)Ce[t]=se(oe(e,Oe,t));let Pe=e[2],Re=[];for(let t=0;t<Pe.length;t+=1)Re[t]=ae(re(e,Pe,t));return V=new J({}),te=new Q({}),fe=new Q({}),ge=new Z({}),_e=new Z({}),Se=new ne({}),we=new X({}),{c(){t=d("div"),n=d("div"),r=d("div"),o=p(),g=d("div"),v=h("Enable WebMidi "),_=d("i"),E=p(),S=d("div"),M=h("Show I/O"),I=p(),w=d("div"),T=h("Send Notes"),N=p(),x=d("div"),A=h("Send CC"),D=p(),O=d("div"),H=d("div"),$=d("div"),z=h("Inputs"),L=p();for(let e=0;e<Ce.length;e+=1)Ce[e].c();B=p(),Y=d("div"),j=d("div"),F=h("Outputs"),W=p();for(let e=0;e<Re.length;e+=1)Re[e].c();U=p(),q=d("div"),R(V.$$.fragment),K=p(),ee=d("div"),R(te.$$.fragment),ie=h("\n\n\tIncAmount: "),ue=h(e[3]),pe=p(),R(fe.$$.fragment),me=p(),ye=d("div"),R(ge.$$.fragment),ve=p(),R(_e.$$.fragment),be=p(),Ee=d("div"),R(Se.$$.fragment),Me=p(),Ie=d("div"),R(we.$$.fragment),Te=p(),Ne=d("div"),Ne.innerHTML='<div id="joy01" class="zone static active svelte-4zo826" style="touch-action:none;"></div> \n   \n\t<div id="joy02"></div> \n\t<div id="joy03"></div> \n\t<div id="joy04"></div>',m(_,"class",b=s(e[0]?de:ce)+" svelte-4zo826"),m(g,"class",s(le)+" svelte-4zo826"),m(S,"class",s(le)+" svelte-4zo826"),m(w,"class",s(le)+" svelte-4zo826"),m(x,"class",s(le)+" svelte-4zo826"),m(n,"class","flex"),m($,"class",s(he)+" svelte-4zo826"),m(j,"class",s(he)+" svelte-4zo826"),m(Y,"class","ml2"),m(O,"class","flex mt2"),m(q,"class","flex mt2"),m(ee,"class","flex mt2"),m(ye,"class","flex mt2"),m(Ee,"class","flex mt2"),m(Ie,"class","flex mt2"),m(Ne,"id","zone_joystick"),m(Ne,"class","mt2 svelte-4zo826")},m(i,s){u(i,t,s),a(t,n),a(n,r),a(n,o),a(n,g),a(g,v),a(g,_),a(n,E),a(n,S),a(S,M),a(n,I),a(n,w),a(w,T),a(n,N),a(n,x),a(x,A),u(i,D,s),u(i,O,s),a(O,H),a(H,$),a($,z),a(H,L);for(let e=0;e<Ce.length;e+=1)Ce[e].m(H,null);a(O,B),a(O,Y),a(Y,j),a(j,F),a(Y,W);for(let e=0;e<Re.length;e+=1)Re[e].m(Y,null);u(i,U,s),u(i,q,s),k(V,q,null),u(i,K,s),u(i,ee,s),k(te,ee,null),a(ee,ie),a(ee,ue),a(ee,pe),k(fe,ee,null),u(i,me,s),u(i,ye,s),k(ge,ye,null),a(ye,ve),k(_e,ye,null),u(i,be,s),u(i,Ee,s),k(Se,Ee,null),u(i,Me,s),u(i,Ie,s),k(we,Ie,null),u(i,Te,s),u(i,Ne,s),xe=!0,Ae||(De=[f(g,"click",e[4]),f(S,"click",e[5]),f(w,"click",e[6]),f(x,"click",e[7])],Ae=!0)},p(e,[t]){if((!xe||1&t&&b!==(b=s(e[0]?de:ce)+" svelte-4zo826"))&&m(_,"class",b),2&t){let n;for(Oe=e[1],n=0;n<Oe.length;n+=1){const i=oe(e,Oe,n);Ce[n]?Ce[n].p(i,t):(Ce[n]=se(i),Ce[n].c(),Ce[n].m(H,null))}for(;n<Ce.length;n+=1)Ce[n].d(1);Ce.length=Oe.length}if(4&t){let n;for(Pe=e[2],n=0;n<Pe.length;n+=1){const i=re(e,Pe,n);Re[n]?Re[n].p(i,t):(Re[n]=ae(i),Re[n].c(),Re[n].m(Y,null))}for(;n<Re.length;n+=1)Re[n].d(1);Re.length=Pe.length}(!xe||8&t)&&y(ue,e[3])},i(e){xe||(C(V.$$.fragment,e),C(te.$$.fragment,e),C(fe.$$.fragment,e),C(ge.$$.fragment,e),C(_e.$$.fragment,e),C(Se.$$.fragment,e),C(we.$$.fragment,e),xe=!0)},o(e){P(V.$$.fragment,e),P(te.$$.fragment,e),P(fe.$$.fragment,e),P(ge.$$.fragment,e),P(_e.$$.fragment,e),P(Se.$$.fragment,e),P(we.$$.fragment,e),xe=!1},d(e){e&&l(t),e&&l(D),e&&l(O),c(Ce,e),c(Re,e),e&&l(U),e&&l(q),G(V),e&&l(K),e&&l(ee),G(te),G(fe),e&&l(me),e&&l(ye),G(ge),G(_e),e&&l(be),e&&l(Ee),G(Se),e&&l(Me),e&&l(Ie),G(we),e&&l(Te),e&&l(Ne),Ae=!1,i(De)}}}const le="flex ba b--black-10 pa2 f6 shadow-4 grow fit-w bg-light-red mb1 mr2 pa2 pointer";let ce="fa fa-times ml2 black",de="fa fa-check ml2 black";const he="ba b--black-10 pa2 tc f5 fw4",pe="bl br bb b--black-10 pa2 tl f6";function fe(e,t,n){let i;var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};const o=e=>{console.log(e);const t=e.clientX,r=e.clientY;var o=Math.max(-1,Math.min(1,e.deltaY||-e.detail));n(3,i+=o),console.log("delta",o),console.log("incAmount",i);let s=document.elementFromPoint(t,r);console.log(s.getAttribute("id"))};_((()=>r(void 0,void 0,void 0,(function*(){n(3,i=0),document.onwheel=o,F(),n(0,s=!0),ie.create({zone:document.getElementById("joy01"),mode:"static",position:{left:"10%",top:"50%"},color:"red",size:200,restJoystick:!1}),ie.create({zone:document.getElementById("joy02"),mode:"static",position:{left:"30%",top:"50%"},color:"green",size:200,restJoystick:!1}),ie.create({zone:document.getElementById("joy03"),mode:"static",position:{left:"50%",top:"50%"},color:"red",size:200,restJoystick:!1}),ie.create({zone:document.getElementById("joy04"),mode:"static",position:{left:"70%",top:"50%"},color:"green",size:200,restJoystick:!1})}))));let s=!1,a=[],u=[];return n(3,i=0),[s,a,u,i,function(){const e=navigator.requestMIDIAccess;e?console.log("WebMidi supported"):alert("WebMidi not supported"),e&&(F(),n(0,s=!0))},()=>{n(1,a=j.inputs),n(2,u=j.outputs)},()=>{(async(e,t)=>{F().then((n=>{console.log("playNote"),j.outputs[e].playNote(t,"all",{duration:4e3,velocity:1})}))})(6,[42,44,46,48,50])},()=>{((e,t,n)=>{F().then((i=>{console.log("sendCc"),j.outputs[e].sendControlChange(t,n,"all")}))})(6,14,127)}]}class me extends z{constructor(e){super(),$(this,e,fe,ue,o,{})}}function ye(t){let n,i,r;return i=new me({}),{c(){n=d("main"),R(i.$$.fragment),m(n,"class","svelte-1h6otfa")},m(e,t){u(e,n,t),k(i,n,null),r=!0},p:e,i(e){r||(C(i.$$.fragment,e),r=!0)},o(e){P(i.$$.fragment,e),r=!1},d(e){e&&l(n),G(i)}}}return new class extends z{constructor(e){super(),$(this,e,null,ye,o,{})}}({target:document.body,props:{name:"world and midi-pad"}})}();
//# sourceMappingURL=bundle.js.map
